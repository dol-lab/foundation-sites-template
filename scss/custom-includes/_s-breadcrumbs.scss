// Foundation for Sites
// https://get.foundation
// Licensed under MIT Open Source

////
/// @group breadcrumbs
////

/// Margin around a breadcrumbs container.
/// @type Number
$breadcrumbs-margin: 0 0 $global-margin 0 !default;

/// Font size of breadcrumb links.
/// @type Number
$breadcrumbs-item-font-size: rem-calc(11) !default;

/// Color of breadcrumb links.
/// @type Color
$breadcrumbs-item-color: $color-text-1 !default;

/// Color of the active breadcrumb link.
/// @type Color
$breadcrumbs-item-color-current: $color-text-0 !default;

/// Color of disabled breadcrumb links.
/// @type Color
$breadcrumbs-item-color-disabled: $color-text-1 !default;

/// Opacity of disabled breadcrumb links.
/// @type Number
$breadcrumbs-item-opacity-disabled: 40% !default;

/// Margin between breadcrumb items.
/// @type Number
$breadcrumbs-item-margin: 0.75rem !default;

/// If `true`, makes breadcrumb links uppercase.
/// @type Boolean
$breadcrumbs-item-uppercase: true !default;

/// If `true`, adds a seperator between breadcrumb links.
/// @type Boolean
$breadcrumbs-item-separator: true !default;

// If it exists $breadcrumbs-item-slash is used to build $breadcrumbs-item-separator. See the documentation.
@if variable-exists(breadcrumbs-item-slash) {
  $breadcrumbs-item-separator: $breadcrumbs-item-slash;
}

/// Used character for the breadcrumb separator.
/// @type Content
$breadcrumbs-item-separator-item: '/' !default;

/// Used character for the breadcrumb separator in rtl mode.
/// @type Content
$breadcrumbs-item-separator-item-rtl: '\\' !default;

/// Color of breadcrumb separator item.
/// @type Color
$breadcrumbs-item-separator-color: $color-text-1 !default;

/// Opacity of breadcrumb separatpor item.
/// @type Number
$breadcrumbs-item-separator-opacity: 60% !default;


// If it exists $breadcrumbs-item-slash-color is used to build $breadcrumbs-item-separator-color. See the documentation.
@if variable-exists(breadcrumbs-item-slash-color) {
  $breadcrumbs-item-separator-color: $breadcrumbs-item-slash-color;
}

/// Adds styles for a breadcrumbs container, along with the styles for the `<li>` and `<a>` elements inside of it.
@mixin breadcrumbs-container {
  @include clearfix;
  margin: $breadcrumbs-margin;
  list-style: none;

  // Item wrapper
  li {
    float: #{$global-left};

    font-size: $breadcrumbs-item-font-size;
    color: $breadcrumbs-item-color-current;
    cursor: default;

    @if $breadcrumbs-item-uppercase {
      text-transform: uppercase;
    }

    @if $breadcrumbs-item-separator {
      // Need to escape the backslash
      $separator: if($global-text-direction == 'ltr', $breadcrumbs-item-separator-item, $breadcrumbs-item-separator-item-rtl);

      &:not(:last-child) {
        &::after {
          position: relative;
          margin: 0 $breadcrumbs-item-margin;
          content: $separator;
          color: $breadcrumbs-item-separator-color;
          opacity: $breadcrumbs-item-separator-opacity;
        }
      }
    }
    @else {
      margin-#{$global-right}: $breadcrumbs-item-margin;
    }
  }

  // Page links
  a {
    color: $breadcrumbs-item-color;
    transition: all var(--f-transition-short) ease-out;

    &:hover {
      text-decoration: underline;
      color: $breadcrumbs-item-color-current;
    }
  }
}

@mixin spaces-breadcrumbs {
  .breadcrumbs {
    @include breadcrumbs-container;

    .disabled {
      color: $breadcrumbs-item-color-disabled;
      // color: color-mix(in oklab, $breadcrumbs-item-color-disabled (100% - $breadcrumbs-item-opacity-disabled), transparent $breadcrumbs-item-opacity-disabled);
      cursor: not-allowed;
      &:after {
        opacity: 1 !important;
      }
    }
  }
}
